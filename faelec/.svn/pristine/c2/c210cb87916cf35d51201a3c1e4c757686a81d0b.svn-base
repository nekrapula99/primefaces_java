package com.tlm.faelec.web.controller;

import java.io.Serializable;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Collections;
import java.util.Date;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import javax.annotation.PostConstruct;
import javax.faces.application.FacesMessage;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.ManagedProperty;
import javax.faces.bean.SessionScoped;
import javax.faces.context.FacesContext;
import javax.faces.event.ActionEvent;

import org.primefaces.component.inputtext.InputText;
import org.primefaces.context.RequestContext;
import org.primefaces.event.CloseEvent;
import org.primefaces.event.FileUploadEvent;
import org.primefaces.event.SelectEvent;
import org.primefaces.event.TabChangeEvent;
import org.primefaces.model.DefaultStreamedContent;
import org.primefaces.model.StreamedContent;
import org.primefaces.model.UploadedFile;
import org.springframework.stereotype.Controller;

import com.tlm.faelec.listas.SeListas;
import com.tlm.faelec.service.maestros.IMaccio00Service;
import com.tlm.faelec.service.maestros.IMacdio00Service;
import com.tlm.faelec.service.maestros.IMestad00Service;
import com.tlm.faelec.service.maestros.IMgenus00Service;
import com.tlm.faelec.service.maestros.IMteste00Service;
import com.tlm.faelec.service.maestros.IMtiptx00Service;
import com.tlm.faelec.service.trans.ITqesqe00Service;
import com.tlm.faelec.service.trans.ITqigqg00Service;
import com.tlm.faelec.utils.Constantes;
import com.tlm.faelec.utils.Utils;
import com.tlm.faelec.utils.UtilsJSF;
import com.tlm.faelec.web.controller.SeControlFactura.NombresListas;
import com.tlm.faelecEntities.model.entities.Maccio00;
import com.tlm.faelecEntities.model.entities.Macdio00;
import com.tlm.faelecEntities.model.entities.Mcampo00;
import com.tlm.faelecEntities.model.entities.Mdespr00;
import com.tlm.faelecEntities.model.entities.Mestad00;
import com.tlm.faelecEntities.model.entities.Mgenus00;
import com.tlm.faelecEntities.model.entities.Mtiptx00;
import com.tlm.faelecEntities.model.entities.Musuar00;
import com.tlm.faelecEntities.model.entities.Tqdfqf00;
import com.tlm.faelecEntities.model.entities.Tqdrqr00;
import com.tlm.faelecEntities.model.entities.Tqesqe00;

import com.tlm.faelecEntities.model.entities.Tqigqg00;

@Controller
@ManagedBean
@SessionScoped
public class SeTqigqg00  extends Control implements Serializable{
	
private static final long serialVersionUID = 1L;
	
	@ManagedProperty(value="#{mgenus00Service}")
	IMgenus00Service mgenus00Service;
	
	@ManagedProperty(value = "#{tqigqg00Service}")
	private ITqigqg00Service tqigqg00Service;

	@ManagedProperty(value = "#{mtiptx00Service}")
	private IMtiptx00Service mtiptx00Service;
	
	@ManagedProperty(value = "#{tqesqe00Service}")
	private ITqesqe00Service tqesqe00Service;
	
	@ManagedProperty(value = "#{mestad00Service}")
	private IMestad00Service mestad00Service;
	
	@ManagedProperty(value = "#{maccio00Service}")
	private IMaccio00Service maccio00Service;
	
	@ManagedProperty(value = "#{macdio00Service}")
	private IMacdio00Service macdio00Service;
	
	@ManagedProperty(value = "#{mteste00Service}")
	private IMteste00Service mteste00Service;
	
	@ManagedProperty(value="#{seCabecera}")
	private SeCabecera seCabecera;
	
	@ManagedProperty(value = "#{seListas}") 
	private SeListas seListas;
	
	private Mgenus00 mgenus00;
	private List<Mgenus00> listMgenus00s;
	
	private List<Mtiptx00> listMtiptx00;
	private Mtiptx00 mtiptx00;
	
	private Tqigqg00 tqigqg00;
	private Tqigqg00 tqigqg00Cop;
	private List<Tqigqg00> listTqigqg00;
	private List<Tqigqg00> filteredTqigqg00;
	
	private Mtiptx00 mtiptx00Cop;
	
	//private String action;
	
	//Tqdrqr00 Detalle requerimiento
	private Tqdrqr00 tqdrqr00;
	private List<Mdespr00> filteredTqdrqr00;
	private List<Mdespr00> listTqdrqr00Remove;

	//Detalle producto
	private Tqdfqf00 tqdfqf00; 
	
	private String accionTqdrqr;
	
	private Tqesqe00 tqesqe00;
	private Tqesqe00 tqesqe00Cop;
	private boolean banId = false;
	
	private Mestad00 mestad00;
	private Maccio00 maccio00;
	private Macdio00 macdio00;
	private Musuar00 musuar00Session;
	

	
	// Variables Carga de lista
	private String update;
	private String nombreTabla;
	private String nombreLista;
	private Object objSeCall;
		
	private Integer fracDec_CantiM;
	private Integer fracDec_PorceM;
	private String paternDec_CantiM;
	
	private Map<String, String> idiomasHm;
	private Map<String, String> idiomasAyuHm;
	private Map<String, String> permisos;
	private HashMap<String, String> idiomasTituloHm;
	public  HashMap<String, Mcampo00> permisoCampos;
	private String tablaCotizacion;
	private String accion;
	private String titulo;

	//Visualizacion de pestañas
	private boolean tabInfBase;
	private boolean tabReq_Prod;
	private boolean tabForma_Pago;
	private boolean tabEnvios;
	private boolean infoGuardada;
	
	private String[] pestanas;
	private int tabView=0;
	private List<String> listSufijo;
	private Integer sufijo;
	private String fechaActual;
	private String descEstado;
	private String compac;
	private boolean numNuevo;
	private boolean numModificar;
	
	private List<Tqesqe00> listTqesqe00;
	private List<Tqesqe00> filteredTqesqe00;
	
	private UploadedFile DocCoti;
	private boolean changeDoc=false;
	private StreamedContent imageStrem;
	private String docAnterior;
	
	private InputText inputTextIdtxqgColumn;
	private InputText inputTextIdclqgColumn;
	private InputText inputTextIdmoqgColumn;
	private InputText inputTextIdppqgColumn;
	private InputText inputTextIdovqgColumn;
	private InputText inputTextIdcvqgColumn; 
	private InputText inputTextSiglacColumn;
	
	//Variables Botones Cotización
	private boolean botonModificada;
	private boolean botonAnulada;
	private boolean botonEnviada;
	private boolean botonAprobada;
	private boolean botonLiberadaDsllo;
	private boolean botonReabrir;
	private boolean botonGuardar;
	private boolean mostrarBotonAnulada;
	private boolean mostrarBotonEnviada;
	private boolean mostrarBotonAprobada;
	private boolean mostrarBotonLiberadaDsllo;
	private boolean mostrarBotonReabrir;
	private boolean mostrarBotonGuardar;
	
	//Variables Botones Requerimientos
	private boolean botonAnularReq;
	private boolean botonAprobarReq;
	private boolean botonLiberadaDslloReq;
	private boolean botonReabrirReq;
	private boolean botonGuardarReq;
	private boolean mostrarBotonAnularReq;
	private boolean mostrarBotonAprobarReq;
	private boolean mostrarBotonLiberadaDslloReq;
	private boolean mostrarBotonReabrirReq;
	private boolean mostrarBotonGuardarReq;
	
	//Banderas
	private boolean flagModificada;
	private boolean flagAnulada;
	private boolean flagEnviada;
	private boolean flagAprobada;
	private boolean flagLiberadaDsllo;
	private boolean flagReabrir;
	private boolean flagGuardar;
	
	private List<Integer> listIdeses;
	private List<Mestad00> listMestad00;
	
	private String dEstadoinit;
	
	
	@PostConstruct
	public void init() {
		try {
			super.init("TQIGQG00");
			tqigqg00 = new Tqigqg00();
			//tqigqg00.setMtiptx00(getMtiptx00());
			idiomasHm= super.getIdiomasHm();
			idiomasAyuHm= super.getIdiomasAyuHm();
			idiomasTituloHm = super.getIdiomasTituloHm();
			permisos = super.getPermisos();
			permisoCampos= super.getPermisoCampos();
			tablaCotizacion=super.getTabla();
			accion=super.getSeControlFactura().getAccion();
			titulo=super.getSeControlFactura().getTitulo();
			compac=super.getSeControlFactura().getMconca00Session().getNomcia();
		
			Double d1=(Double)super.getSeControlFactura().PARAMETROS.get("Dec_CantiM");
			fracDec_CantiM=d1.intValue();
			
			tabInfBase = false;
			tabReq_Prod = false;
			tabForma_Pago = false;
			tabEnvios = false;
			
			numNuevo = false;
			numModificar = false;
			botonModificada = false;
			botonAnulada = false;
			botonEnviada = false;
			botonAprobada = false;
			botonLiberadaDsllo = false;
			botonReabrir = false;
			botonGuardar = false;
			cargarEstadoInit();
			flagModificada = false;
			flagAnulada = false;
			flagEnviada = false;
			flagAprobada = false;
			flagLiberadaDsllo = false;
			flagReabrir = false;
			flagGuardar = false;
			
			mostrarBotonAnularReq = false;
	    	mostrarBotonAprobarReq = false;
	    	mostrarBotonLiberadaDslloReq = false;
	    	mostrarBotonReabrirReq = false;
	    	mostrarBotonGuardarReq = false;
	    	
	    	mostrarBotonAnulada = true;
	    	mostrarBotonLiberadaDsllo = true;
	    	mostrarBotonReabrir = true;
	    	mostrarBotonAprobada = true;
	    	mostrarBotonGuardar = true;
	    	mostrarBotonEnviada = true; 

			cargarDatos();
		} catch (Exception e) {
			e.printStackTrace();
			UtilsJSF.facesLog(FacesContext.getCurrentInstance(), FacesMessage.SEVERITY_ERROR);
		}
	}
	
	//Se reinician los valores por defecto de las listas de valores
	private void reiniciarListasMaestro(){
		try{
			getSeListas().actualizarListas(NombresListas.listMgenteCliente);
			getSeListas().actualizarListas(NombresListas.listMconca);
			getSeListas().actualizarListas(NombresListas.listMgenusMoneda);
			getSeListas().actualizarListas(NombresListas.listMgenusOrganiVentas);
			getSeListas().actualizarListas(NombresListas.listMgenusCanalDistri);
			getSeListas().actualizarListas(NombresListas.listMpropr);
			getSeListas().actualizarListas(NombresListas.listMfunfu);
			getSeListas().actualizarListas(NombresListas.listMtiptx00);
			//getSeListas().actualizarListas(NombresListas.listMfunfuFunciApoyo);
			//RequestContext.getCurrentInstance().update("formTable");
			}catch (Exception e) {
			    e.printStackTrace();
			}		
	}
	
	public void onTabChange(TabChangeEvent event) {  
	    System.out.println("tab id = " + event.getTab().getId());
	    try{
		    if(event.getTab().getId().equalsIgnoreCase("tabInfoGrnl")){
		    	System.out.println("estase en info general");
		    	
		    	mostrarBotonAnulada = true;
		    	System.out.println("mostrarBotonAnulada: "+mostrarBotonAnulada);
		    	
		    	mostrarBotonLiberadaDsllo = true;
		    	mostrarBotonReabrir = true;
		    	mostrarBotonAprobada = true;
		    	mostrarBotonGuardar = true;
		    	mostrarBotonEnviada = true;
		    	
		    	mostrarBotonAnularReq = false;
		    	mostrarBotonAprobarReq = false;
		    	mostrarBotonLiberadaDslloReq = false;
		    	mostrarBotonReabrirReq = false;
		    	mostrarBotonGuardarReq = false;
		    	//RequestContext.getCurrentInstance().update("formDetalle");
		    	RequestContext.getCurrentInstance().update(event.getTab().getId());
		    		
		    }else if(event.getTab().getId().equalsIgnoreCase("tabReqpro")){
		    	System.out.println("estase en Req prod");
		    	mostrarBotonAnularReq = true;
		    	mostrarBotonAprobarReq = true;
		    	mostrarBotonLiberadaDslloReq = true;
		    	mostrarBotonReabrirReq = true;
		    	mostrarBotonGuardarReq = true;
		    	
		    	mostrarBotonAnulada = false;
		    	mostrarBotonLiberadaDsllo = false;
		    	mostrarBotonReabrir = false;
		    	mostrarBotonAprobada = false;
		    	mostrarBotonGuardar = false;
		    	mostrarBotonEnviada = false; 
		    	System.out.println("mostrarBotonAnulada: "+mostrarBotonAnulada);
		    	RequestContext.getCurrentInstance().update(event.getTab().getId());
		    	
		    }else if(event.getTab().getId().equalsIgnoreCase("tabFrPago")){
		    	System.out.println("estase en Forma pago");
		    	
		    	mostrarBotonAnularReq = false;
		    	mostrarBotonAprobarReq = false;
		    	mostrarBotonLiberadaDslloReq = false;
		    	mostrarBotonReabrirReq = false;
		    	mostrarBotonGuardarReq = false;
		    	
		    	mostrarBotonAnulada = false;
		    	mostrarBotonLiberadaDsllo = false;
		    	mostrarBotonReabrir = false;
		    	mostrarBotonAprobada = false;
		    	mostrarBotonGuardar = false;
		    	mostrarBotonEnviada = false; 
		    	System.out.println("mostrarBotonAnulada: "+mostrarBotonAnulada);
		    	RequestContext.getCurrentInstance().update(event.getTab().getId());
		    }else if(event.getTab().getId().equalsIgnoreCase("tabEnvios")){
		    	System.out.println("estase en envios");
		    	mostrarBotonAnularReq = false;
		    	mostrarBotonAprobarReq = false;
		    	mostrarBotonLiberadaDslloReq = false;
		    	mostrarBotonReabrirReq = false;
		    	mostrarBotonGuardarReq = false;
		    	
		    	mostrarBotonAnulada = false;
		    	mostrarBotonLiberadaDsllo = false;
		    	mostrarBotonReabrir = false;
		    	mostrarBotonAprobada = false;
		    	mostrarBotonGuardar = false;
		    	mostrarBotonEnviada = false; 
		    	System.out.println("mostrarBotonAnulada: "+mostrarBotonAnulada);
		    	RequestContext.getCurrentInstance().update(event.getTab().getId());
		    }
	}catch (Exception e) {
		e.printStackTrace();
		UtilsJSF.facesLog(FacesContext.getCurrentInstance(),FacesMessage.SEVERITY_ERROR);
	}
	    
	}
	
	public void mostrarPestana()
	{
		try{
			
		   pestanas=((String) getSeControlFactura().PARAMETROS.get("Vis_MaeTqi")).split(","); 
		   for (int i=0; i < pestanas.length;i++){
			   if(pestanas[i].equals("1"))
			   {
				   tabInfBase=true;
			   }
			   if(pestanas[i].equals("2"))
			   {
				   tabReq_Prod=true;
			   }
			   if(pestanas[i].equals("3"))
			   {
				   tabForma_Pago=true;
			   }
			   if(pestanas[i].equals("4"))
			   {
				  tabEnvios = true;
			   }
	
		   }
		   RequestContext.getCurrentInstance().update("formDetalle:tabView");
		}catch(Exception e){
			e.printStackTrace();
		}
	}
	
	public void cargarDatos() {
		//tqigqg00 = new Tqigqg00();
		//tqesqe00 = new Tqesqe00();
		//mestad00 = new Mestad00();
		//tqesqe00.setRegcqe(true);
		//tqesqe00.setTqigqg00(tqigqg00);
		//tqesqe00.setMestad00(mestad00);
		listTqigqg00 = tqigqg00Service.listTqigqg00ByCriteria(new Tqigqg00(),getSeControlFactura().getCompaniasUsu());
		//listTqesqe00 = tqigqg00Service.listTqigqg00ByCriteriaFechas(tqesqe00);

		 //System.out.println("listTqesqe00 DE INIT : "+listTqesqe00);
		//UtilsJSF.resetDTable("formTable:dTable");
	}
	
	public void accionNuevo() {
		try {
			setAccion(Constantes.ACCION_NUEVO);
			getSeControlFactura().setAccion(Constantes.ACCION_NUEVO);
			getSeControlFactura().setTitulo(titulo);
			getSeControlFactura().setTabla(tablaCotizacion);

			//validarTransicionEstado();
			seListas.actualizarListas(NombresListas.listMconca);
			tqigqg00 = new Tqigqg00();
			mtiptx00 = new Mtiptx00();
			tqigqg00.setRegcqg(true);
			getSeListas().actualizarListas(NombresListas.listMconca);
			tqigqg00.setTqdrqr00s(new ArrayList<Tqdrqr00>());
			//tqigqg00.setTqdfqf00s(new ArrayList<Tqdfqf00>());
			tqigqg00.setTqesqe00s(new ArrayList<Tqesqe00>());
			numNuevo = true;
			numModificar = false;
			activarBotones();

			generar_Numero_CotizacionSHS();
			estadoCotizacion();
			descEstado = "Cot. Es. Nueva";

			//llenar tqesqe
			tqesqe00 = new Tqesqe00();
			tqesqe00.setRegcqe(true);
			mostrarPestana();
			tabView=0;
			reiniciarListasMaestro();
		} catch (Exception e) {
			e.printStackTrace();
			UtilsJSF.facesLog(FacesContext.getCurrentInstance(),FacesMessage.SEVERITY_ERROR);
		}
	}
	
	public String cargarEstadoInit(){
      Integer idTempo = 0;
		try{
			 Tqesqe00 tqesqe00 = new Tqesqe00();
			 Tqigqg00 tqigqg00 = new Tqigqg00();
			 Date fechaMayor = new Date();
			 listTqesqe00 = tqesqe00Service.listTqesqe00ByCriteria(tqesqe00);
			 listTqigqg00 = tqigqg00Service.listTqigqg00ByCriteria(tqigqg00, getSeControlFactura().getCompaniasUsu());
			 System.out.println("listTqesqe00 : "+listTqesqe00);
			 System.out.println("listTqigqg00 : "+listTqigqg00);
			 
			 List<Date> listFechasTqesqe00= new ArrayList<Date>();
			 for(Tqigqg00 obj2: listTqigqg00){
				for(Tqesqe00 obj : listTqesqe00)
				{	
					if(obj.getTqigqg00().getIdtqqg()==obj2.getIdtqqg()){
						if(obj.getMestad00()!=null){
							listFechasTqesqe00.add(obj.getFeacqe());
							fechaMayor = Collections.max(listFechasTqesqe00);
							if(obj.getFeacqe().equals(fechaMayor)){
								idTempo = obj.getTqigqg00().getIdtqqg();
								mestad00 = obj.getMestad00();
								System.out.println("# cotizacion : "+obj2.getIdtqqg());
								dEstadoinit = mestad00.getDscres();
								System.out.println("dEstadoinit : "+dEstadoinit);
							}
						}
					}
					if(idTempo==obj2.getIdtqqg()){
						dEstadoinit = mestad00.getDscres();
					}
				}
			 }
				System.out.println("dEstadoinit : "+dEstadoinit);
				if(dEstadoinit.equals(null) || dEstadoinit.equals("")){
					dEstadoinit = "LLEGA NULL";
				}
				 System.out.println("dEstadoinit : "+dEstadoinit);

		} catch (Exception e) {
			e.printStackTrace();
			UtilsJSF.facesLog(FacesContext.getCurrentInstance(),FacesMessage.SEVERITY_ERROR);
		}
		return dEstadoinit;
	}
	
	
	

 public void activarBotones(){
	 //String descripEstado ="";
	 try {
		 
		 if(getAccion().equals(Constantes.ACCION_NUEVO)){
			 botonAnulada = false;
			 botonLiberadaDsllo = false;
			 botonReabrir = false;
			 botonAprobada = false;
			 botonGuardar = true;
			 botonEnviada = false;
		 }else if(getAccion().equals(Constantes.ACCION_MODIFICAR)){
			 
			 Tqesqe00 tqesqe00 = new Tqesqe00();
			 Date fechaMayor = new Date();
			 listTqesqe00 = tqesqe00Service.listTqesqe00ByCriteria(tqesqe00);
			 System.out.println("listTqesqe00 : "+listTqesqe00);
			 List<Date> listFechasTqesqe00= new ArrayList<Date>();

				for(Tqesqe00 obj : listTqesqe00)
				{
					if(obj.getTqigqg00().getIdtqqg()==getTqigqg00().getIdtqqg()){
						if(obj.getMestad00()!=null){
							listFechasTqesqe00.add(obj.getFeacqe());
							fechaMayor = Collections.max(listFechasTqesqe00);
							if(obj.getFeacqe().equals(fechaMayor)){
								mestad00 = obj.getMestad00();
								descEstado = mestad00.getDscres(); 
							}
						}
					}
				}
			 if(descEstado.equalsIgnoreCase("Cot. Es. Nueva")){
				 botonAnulada = true;
				 botonLiberadaDsllo = false;
				 botonReabrir = false;
				 botonAprobada = false;
				 botonGuardar = true;
				 botonEnviada = false; 
			 }else if(descEstado.equalsIgnoreCase("Cot. Es. Modificada")){
				 botonAnulada = false;
				 botonLiberadaDsllo = false;
				 botonReabrir = false;
				 botonAprobada = false;
				 botonGuardar = true;
				 botonEnviada = true;	 
			 }else if(descEstado.equalsIgnoreCase("Cot. Es. Enviada")){
				 botonAnulada = true;
				 botonLiberadaDsllo = false;
				 botonReabrir = false;
				 botonAprobada = true;
				 botonGuardar = false;
				 botonEnviada = true;	 
			 }else if(descEstado.equalsIgnoreCase("Cot. Es. Aprobada")){
				 botonAnulada = true;
				 botonLiberadaDsllo = true;
				 botonReabrir = false;
				 botonAprobada = false;
				 botonGuardar = false;
				 botonEnviada = false;	 
			 }else if(descEstado.equalsIgnoreCase("Cot. Es. Anulada")){
				 botonAnulada = false;
				 botonLiberadaDsllo = false;
				 botonReabrir = true;
				 botonAprobada = false;
				 botonGuardar = false;
				 botonEnviada = false;
			 }else if(descEstado.equalsIgnoreCase("Cot. Es. Reabierta")){
				 botonAnulada = false;
				 botonLiberadaDsllo = true;
				 botonReabrir = false;
				 botonAprobada = false;
				 botonGuardar = true;
				 botonEnviada = false;	 
			 }		 
		 }

	} catch (Exception e) {
		e.printStackTrace();
		UtilsJSF.facesLog(FacesContext.getCurrentInstance(),FacesMessage.SEVERITY_ERROR);
	}
 }
	
 public boolean validarTransicionEstado(){
	 boolean validacionEst = false;
	 try {
		 Integer varTempEstdOrigen=0;
		 
		 Tqesqe00 tqesqe00 = new Tqesqe00();
		 Date fechaMayor = new Date();
		 listTqesqe00 = tqesqe00Service.listTqesqe00ByCriteria(tqesqe00);
		 System.out.println("listTqesqe00 : "+listTqesqe00);
		 List<Date> listFechasTqesqe00= new ArrayList<Date>();

			for(Tqesqe00 obj : listTqesqe00)
			{	
				if(obj.getTqigqg00().getIdtqqg()==getTqigqg00().getIdtqqg()){
					if(obj.getMestad00()!=null){
						listFechasTqesqe00.add(obj.getFeacqe());
						fechaMayor = Collections.max(listFechasTqesqe00);
						if(obj.getFeacqe().equals(fechaMayor)){
							mestad00 = obj.getMestad00();
							varTempEstdOrigen = mestad00.getIdeses(); //capturo estado origen
						}
					}
				}else{
					System.out.println("DEBE EXISTIR ESTADO"); //MARCAR ERROR (DEBE EXISTIR ESTADO)
				}
			}
			
			if(obtenerTransicionValida(varTempEstdOrigen,macdio00.getMestad00().getIdeses())){
				validacionEst = true;
				
			}else{
				System.out.println("Transicion no valida");
			}
		
	} catch (Exception e) {
		e.printStackTrace();
		UtilsJSF.facesLog(FacesContext.getCurrentInstance(),FacesMessage.SEVERITY_ERROR);
	}
	 return validacionEst;
 }
	

public void generar_Numero_CotizacionSHS(){
	 try {
		 	
		 	listSufijo = mtiptx00Service.cargarUltimoSufijo();
			List<Integer> listMtiptx00Temp = new ArrayList<Integer>(); 
			
			for(String obj : listSufijo)
			{
				if(!obj.equals(null) && !obj.equals("")){
					listMtiptx00Temp.add(Integer.parseInt(obj));
				}
			}
		    Integer mayor = Collections.max(listMtiptx00Temp);
		    sufijo = mayor+1;
		    
		    Date date = new Date();
		    
		 // el que parsea
		    SimpleDateFormat parseador = new SimpleDateFormat("dd-MM-yy");
		    // el que formatea
		    SimpleDateFormat formateador = new SimpleDateFormat("yyMMdd");
		    fechaActual = formateador.format(date);
		    
	} catch (Exception e) {
		e.printStackTrace();
		UtilsJSF.facesLog(FacesContext.getCurrentInstance(),FacesMessage.SEVERITY_ERROR);
	}
 }
 
public void estadoCotizacion(){
	 try {
		 
		 Tqesqe00 tqesqe00 = new Tqesqe00();
		 Date fechaMayor = new Date();
		 listTqesqe00 = tqesqe00Service.listTqesqe00ByCriteria(tqesqe00);
		 System.out.println("listTqesqe00 : "+listTqesqe00);
		 List<Date> listFechasTqesqe00= new ArrayList<Date>();

			for(Tqesqe00 obj : listTqesqe00)
			{	
				if(obj.getTqigqg00().getIdtqqg()==getTqigqg00().getIdtqqg()){
					if(obj.getMestad00()!=null){
						listFechasTqesqe00.add(obj.getFeacqe());
						fechaMayor = Collections.max(listFechasTqesqe00);
						if(obj.getFeacqe().equals(fechaMayor)){
							mestad00 = obj.getMestad00();
							descEstado = mestad00.getDscres();
						}
					}
				}
			}
	
	} catch (Exception e) {
		e.printStackTrace();
		UtilsJSF.facesLog(FacesContext.getCurrentInstance(),FacesMessage.SEVERITY_ERROR);
	}
 }

	public void accionModificar(SelectEvent event) {
		try {
			
			setAccion(Constantes.ACCION_MODIFICAR);
			getSeControlFactura().setAccion(Constantes.ACCION_MODIFICAR);
			getSeControlFactura().setTitulo(titulo);
			getSeControlFactura().setTabla(tablaCotizacion);
			tqesqe00 = new Tqesqe00();
			tqesqe00.setRegcqe(true);
			tqigqg00Cop= (Tqigqg00) tqigqg00.clone();
			tqesqe00Cop= (Tqesqe00) tqesqe00.clone();
			//validarTransicionEstado();
			mostrarPestana();
			activarBotones();
			tabView=0;
			numNuevo = false;
			numModificar = true;
			 
			estadoCotizacion();
			tqigqg00 = tqigqg00Service.cargarDetalles(tqigqg00);
			if(tqigqg00.getMgenus001() != null){
				actualizarListasCompania(tqigqg00.getMgenus001().getCodius());
				getSeControlFactura().cargarParametros(true,null,tqigqg00.getMgenus001().getIdtrus());
			}else{
				getSeControlFactura().cargarParametros(true,null,null);
				reiniciarListasMaestro();
			}
			
			//mcotes00Rs = mcotes00Service.cargarDetalles(mcotes00.getIdctes());
			//tqigqg00.setMcotos001s(mcotes00Rs.getMcotos001s());	-- PENDIENTE
			//Se valida si las listas del formulario tienen campos deshabilitados
			if(validarListas()==true){
				//Se ejecuta el metodo para que no se pierda el objeto de las listas al momento de hacer un submit en el guardar
				UtilsJSF.tratamientoObjetoDeshabilitadoListas(tqigqg00.getMgenus001(), tqigqg00.getMgenus001().getMtipre00().getTipore());
				UtilsJSF.tratamientoObjetoDeshabilitadoListas(tqigqg00.getMgenus002(), tqigqg00.getMgenus002().getMtipre00().getTipore());
				UtilsJSF.tratamientoObjetoDeshabilitadoListas(tqigqg00.getMgenus003(), tqigqg00.getMgenus003().getMtipre00().getTipore());
				UtilsJSF.tratamientoObjetoDeshabilitadoListas(tqigqg00.getMtiptx00(), null);
				UtilsJSF.tratamientoObjetoDeshabilitadoListas(tqigqg00.getMpropr00(), null);
				UtilsJSF.tratamientoObjetoDeshabilitadoListas(tqigqg00.getMfunfu001(), null);
				UtilsJSF.tratamientoObjetoDeshabilitadoListas(tqigqg00.getMfunfu002(), null);

			}
				
		} catch (Exception e) {
			e.printStackTrace();
			UtilsJSF.facesLog(FacesContext.getCurrentInstance(), FacesMessage.SEVERITY_ERROR);
		}
	}
	
	// metedo que captura el objeto al modificar y actualiza las listas de compañias 
	private void actualizarListasCompania (String codigoCompania){
		try{
			List<String> listMconca00ActualizarListas;
			listMconca00ActualizarListas = new ArrayList<String>();
			listMconca00ActualizarListas.add(codigoCompania);
			
			getSeListas().actualizarListasCompania(NombresListas.listMgenteCliente, listMconca00ActualizarListas);
			getSeListas().actualizarListasCompania(NombresListas.listMconca , listMconca00ActualizarListas);
			getSeListas().actualizarListasCompania(NombresListas.listMgenusMoneda, listMconca00ActualizarListas);
			getSeListas().actualizarListasCompania(NombresListas.listMgenusOrganiVentas, listMconca00ActualizarListas);
			getSeListas().actualizarListasCompania(NombresListas.listMgenusCanalDistri , listMconca00ActualizarListas);
			getSeListas().actualizarListasCompania(NombresListas.listMpropr, listMconca00ActualizarListas);
			getSeListas().actualizarListasCompania(NombresListas.listMfunfu, listMconca00ActualizarListas);
			getSeListas().actualizarListasCompania(NombresListas.listMtiptx00, listMconca00ActualizarListas);
			RequestContext.getCurrentInstance().update("formTable");
			}catch(Exception e){
			e.printStackTrace();
		}
	}
	
	public void autocompleteActualizarListas (){
		try{
			if(tqigqg00.getMgenus001() != null){
			actualizarListasCompania(tqigqg00.getMgenus001().getCodius());
			}else{
				reiniciarListasMaestro();
			}
		}catch(Exception e){
			e.printStackTrace();
		}
	}
	
	private void colaEstandar() {
		try {
			tqigqg00.setUsecqg(getSeControlFactura().codusu);
			tqigqg00.setPrgcqg("Cotizacion_Estandar " + getClass().getName());
			tqigqg00.setFeacqg(new Date());
			tqigqg00.setMaqcqg(getSeControlFactura().ip);
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	
	public Maccio00 consultarObjetoMaccio00(){
		maccio00 = new Maccio00();
		maccio00.setMconca00(getSeControlFactura().getMconca00Session());
		maccio00.setMtiptx00(tqigqg00.getMtiptx00());
		maccio00 = maccio00Service.getMaccio00ByTqigqg00(maccio00, tablaCotizacion);
		return maccio00;
	}
	
	public Macdio00 consultarObjetoMacdio00(String notdio){
		macdio00 = new Macdio00();
		macdio00.setMaccio00(consultarObjetoMaccio00());
		macdio00 = macdio00Service.getMacdio00ByTqigqg00(macdio00,notdio);
		return macdio00;
	}
	
	public boolean obtenerTransicionValida(Integer varTemp, Integer macIdedio){
		return mteste00Service.obtenerTransicionValida(varTemp, macIdedio);
	}
	
	private void guardarTqesqe00() {
		try {
			System.out.println("flag guardarTqesque");

			macdio00 = new Macdio00();
			tqesqe00 = new Tqesqe00();
			tqesqe00.setRegcqe(true);
			
			macdio00.setMaccio00(consultarObjetoMaccio00());
			if(flagGuardar){
				System.out.println("guardada!!");
				macdio00 = consultarObjetoMacdio00("BTN_GRABAR");
			}else if(flagAnulada){
				System.out.println("Anulada!!");
				macdio00 = consultarObjetoMacdio00("BTN_ANULAR_COTIZACION");
			}else if(flagAprobada){
				System.out.println("Aprobada!!");
				macdio00 = consultarObjetoMacdio00("BTN_APROBADA");
			}else if(flagLiberadaDsllo){
				System.out.println("liberada!!");
				macdio00 = consultarObjetoMacdio00("BTN_LIBERAR_COTIZACION");
			}else if(flagReabrir){
				System.out.println("Reabierta!!");
				macdio00 = consultarObjetoMacdio00("BTN_REABRIR_COTIZACION");
			}else if(flagEnviada){
				System.out.println("enviada!!");
				macdio00 = consultarObjetoMacdio00("BTN_ENVIAR");
			}
			System.out.println("MACDIO00: "+macdio00);		
			//macdio00.getMestad00().getIdeses();
			System.out.println(" MACDIO00.IDEDIO: "+macdio00.getMestad00().getIdeses());

			//macdio00 = consultarObjetoMacdio00("BTN_NUEVO");
			//macdio00 = consultarObjetoMacdio00("BTN_ACTUALIZAR");

			if(validarTransicionEstado()){
				
				tqesqe00.setMestad00(macdio00.getMestad00());
				tqesqe00.setTqigqg00(tqigqg00);	
				tqesqe00.setRegcqe(true);
				tqesqe00.setFeesqe(new Date());
				tqesqe00.setUsecqe(getSeControlFactura().codusu);
				tqesqe00.setPrgcqe("Transaccion_Cotizacion_Estados " + getClass().getName());
				tqesqe00.setFeacqe(new Date());
				tqesqe00.setMaqcqe(getSeControlFactura().ip);
				tqesqe00Cop= (Tqesqe00) tqesqe00.clone();
				System.out.println(" tesqe despues de validar lo ultimo: "+tqesqe00);
			}else{
				//Agreagr mensaje de error por retorno malo
			}


		} catch (Exception e) {
			e.printStackTrace();
		}
	}


	/*Metodo que se encarga de validar que los registros de las listas esten habilitados
	 * en caso de estar deshabilitado algun registro devuelve true
	 */
	private boolean validarListas(){
		boolean validacion = false;
		//Se valida que las listas que tiene el usuario en el formulario esten activas 
//		
		//Validacion lista  Tipo Transacciòn
		if(tqigqg00.getMtiptx00() != null &&  tqigqg00.getMtiptx00().isRegtxt()==false){
			UtilsJSF.facesLog(FacesMessage.SEVERITY_ERROR, 
		    getIdiomasHm().get("idtxqg")+" "+ tqigqg00.getMtiptx00().getCotrtx() +" "+getSeControlFactura().MENSAJES.get("Cam_Deshab"));			
			validacion = true;
		}
		
		//Validacion lista Cliente o Prospecto
		if(tqigqg00.getMgente00() != null &&  tqigqg00.getMgente00().getRegite()==false){
			UtilsJSF.facesLog(FacesMessage.SEVERITY_ERROR, 
		    getIdiomasHm().get("idclqg")+" "+ tqigqg00.getMgente00().getCodite() +" "+getSeControlFactura().MENSAJES.get("Cam_Deshab"));			
			validacion = true;
		}
		
		//Validacion lista  Moneda Cotizacion
		if(tqigqg00.getMgenus001() != null &&  tqigqg00.getMgenus001().getRegius()==false){
			UtilsJSF.facesLog(FacesMessage.SEVERITY_ERROR, 
		    getIdiomasHm().get("idmoqg")+" "+ tqigqg00.getMgenus001().getCodius() +" "+getSeControlFactura().MENSAJES.get("Cam_Deshab"));			
			validacion = true;
		}
		
		//Validacion lista  Organización Ventas
		if(tqigqg00.getMpropr00() != null &&  tqigqg00.getMpropr00().getRegipr()==false){
			UtilsJSF.facesLog(FacesMessage.SEVERITY_ERROR, 
		    getIdiomasHm().get("idppqg")+" "+ tqigqg00.getMpropr00().getCodcpr() +" "+getSeControlFactura().MENSAJES.get("Cam_Deshab"));			
			validacion = true;
		}
		
		//Validacion lista  Funcionario Comercial Responsable
		if(tqigqg00.getMfunfu001() != null &&  tqigqg00.getMfunfu001().isRegufu()==false){
			UtilsJSF.facesLog(FacesMessage.SEVERITY_ERROR, 
		    getIdiomasHm().get("idfrqg")+" "+ tqigqg00.getMfunfu001().getCocufu()+" "+getSeControlFactura().MENSAJES.get("Cam_Deshab"));			
			validacion = true;
		}
		//Validacion lista  Funcionario Apoyo Tecnico Preventa
		if(tqigqg00.getMfunfu002() != null &&  tqigqg00.getMfunfu002().isRegufu()==false){
			UtilsJSF.facesLog(FacesMessage.SEVERITY_ERROR, 
		    getIdiomasHm().get("idfaqg")+" "+ tqigqg00.getMfunfu002().getCocufu() +" "+getSeControlFactura().MENSAJES.get("Cam_Deshab"));			
			validacion = true;
		}
		
		//Validacion lista  Organización Ventas
		if(tqigqg00.getMgenus002() != null &&  tqigqg00.getMgenus002().getRegius()==false){
			UtilsJSF.facesLog(FacesMessage.SEVERITY_ERROR, 
		    getIdiomasHm().get("idovqg")+" "+ tqigqg00.getMgenus002().getCodius() +" "+getSeControlFactura().MENSAJES.get("Cam_Deshab"));			
			validacion = true;
		}

		//Validacion lista  Canal Distribución
		if(tqigqg00.getMgenus003() != null &&  tqigqg00.getMgenus003().getRegius()==false){
			UtilsJSF.facesLog(FacesMessage.SEVERITY_ERROR, 
		    getIdiomasHm().get("idcvqg")+" "+ tqigqg00.getMgenus003().getCodius() +" "+getSeControlFactura().MENSAJES.get("Cam_Deshab"));			
			validacion = true;
		}
		
		return validacion;
	}
	
	private boolean validarDatosRequeridos(){
		boolean validacion = false;

		if(Utils.isEmptyOrNull(tqigqg00.getMtiptx00()) && permisoCampos.get("idtxqg").getReqcam().equals("S"))
		{
			UtilsJSF.facesLog(FacesMessage.SEVERITY_ERROR, getIdiomasHm().get("idtxqg")+" "+getSeControlFactura().MENSAJES.get("Cam_Obliga"));
			inputTextIdtxqgColumn.setStyle("border-color: #d2524f;");				
		    RequestContext.getCurrentInstance().update(inputTextIdtxqgColumn.getClientId());
			validacion = true;
		}else{
			inputTextIdtxqgColumn.setStyle("border-color: #9a9a9a;");			 
			RequestContext.getCurrentInstance().update(inputTextIdtxqgColumn.getClientId());	
		}
		if(Utils.isEmptyOrNull(tqigqg00.getMgente00()) && permisoCampos.get("siglac").getReqcam().equals("S"))
		{
			UtilsJSF.facesLog(FacesMessage.SEVERITY_ERROR, getIdiomasHm().get("siglac")+" "+getSeControlFactura().MENSAJES.get("Cam_Obliga"));
			inputTextSiglacColumn.setStyle("border-color: #d2524f;");				
		    RequestContext.getCurrentInstance().update(inputTextSiglacColumn.getClientId());
			validacion = true;
		}else{
			inputTextSiglacColumn.setStyle("border-color: #9a9a9a;");			 
			RequestContext.getCurrentInstance().update(inputTextSiglacColumn.getClientId());	
		}
		
		//fecha promesa delivery
		if(Utils.isEmptyOrNull(tqigqg00.getMgente00())&& permisoCampos.get("idclqg").getReqcam().equals("S")){
			UtilsJSF.facesLog(FacesMessage.SEVERITY_ERROR, getIdiomasHm().get("idclqg")+" "+getSeControlFactura().MENSAJES.get("Cam_Obliga"));
			validacion = true;
		}
		
		if(Utils.isEmptyOrNull(tqigqg00.getMgenus001()) && permisoCampos.get("idmoqg").getReqcam().equals("S"))
		{
			UtilsJSF.facesLog(FacesMessage.SEVERITY_ERROR, getIdiomasHm().get("idmoqg")+" "+getSeControlFactura().MENSAJES.get("Cam_Obliga"));
			inputTextIdmoqgColumn.setStyle("border-color: #d2524f;");				
		    RequestContext.getCurrentInstance().update(inputTextIdmoqgColumn.getClientId());
			validacion = true;
		}else{
			inputTextIdmoqgColumn.setStyle("border-color: #9a9a9a;");			 
			RequestContext.getCurrentInstance().update(inputTextIdmoqgColumn.getClientId());	
		}
		if(Utils.isEmptyOrNull(tqigqg00.getMpropr00()) && permisoCampos.get("idppqg").getReqcam().equals("S"))
		{
			UtilsJSF.facesLog(FacesMessage.SEVERITY_ERROR, getIdiomasHm().get("idppqg")+" "+getSeControlFactura().MENSAJES.get("Cam_Obliga"));
			inputTextIdppqgColumn.setStyle("border-color: #d2524f;");				
		    RequestContext.getCurrentInstance().update(inputTextIdppqgColumn.getClientId());
			validacion = true;
		}else{
			inputTextIdppqgColumn.setStyle("border-color: #9a9a9a;");			 
			RequestContext.getCurrentInstance().update(inputTextIdppqgColumn.getClientId());	
		}
		if(Utils.isEmptyOrNull(tqigqg00.getMgenus002()) && permisoCampos.get("idovqg").getReqcam().equals("S"))
		{
			UtilsJSF.facesLog(FacesMessage.SEVERITY_ERROR, getIdiomasHm().get("idovqg")+" "+getSeControlFactura().MENSAJES.get("Cam_Obliga"));
			inputTextIdovqgColumn.setStyle("border-color: #d2524f;");				
		    RequestContext.getCurrentInstance().update(inputTextIdovqgColumn.getClientId());
			validacion = true;
		}else{
			inputTextIdovqgColumn.setStyle("border-color: #9a9a9a;");			 
			RequestContext.getCurrentInstance().update(inputTextIdovqgColumn.getClientId());	
		}
		if(Utils.isEmptyOrNull(tqigqg00.getMgenus003()) && permisoCampos.get("idcvqg").getReqcam().equals("S"))
		{
			UtilsJSF.facesLog(FacesMessage.SEVERITY_ERROR, getIdiomasHm().get("idcvqg")+" "+getSeControlFactura().MENSAJES.get("Cam_Obliga"));
			inputTextIdcvqgColumn.setStyle("border-color: #d2524f;");				
		    RequestContext.getCurrentInstance().update(inputTextIdcvqgColumn.getClientId());
			validacion = true;
		}else{
			inputTextIdcvqgColumn.setStyle("border-color: #9a9a9a;");			 
			RequestContext.getCurrentInstance().update(inputTextIdcvqgColumn.getClientId());	
		}
		
		//FECHA CREACIÓN
		if(Utils.isEmptyOrNull(tqigqg00.getFecrqg()) && permisoCampos.get("fecrqg").getReqcam().equals("S"))
		{
			UtilsJSF.facesLog(FacesMessage.SEVERITY_ERROR, getIdiomasHm().get("fecrqg")+" "+getSeControlFactura().MENSAJES.get("Cam_Obliga"));
			validacion = true;
		}
		//fecha vigencia hasta
		if(Utils.isEmptyOrNull(tqigqg00.getFeviqg()) && permisoCampos.get("feviqg").getReqcam().equals("S"))
		{
			UtilsJSF.facesLog(FacesMessage.SEVERITY_ERROR, getIdiomasHm().get("feviqg")+" "+getSeControlFactura().MENSAJES.get("Cam_Obliga"));
			validacion = true;
		}
		//fecha promesa delivery
		if(Utils.isEmptyOrNull(tqigqg00.getFepdqg())&& permisoCampos.get("fepdqg").getReqcam().equals("S")){
			UtilsJSF.facesLog(FacesMessage.SEVERITY_ERROR, getIdiomasHm().get("fepdqg")+" "+getSeControlFactura().MENSAJES.get("Cam_Obliga"));
			validacion = true;
		}
	
		
		return validacion;
	}
	
	public void validarFechas(){
		
		if(tqigqg00.getFecrqg().before(tqigqg00.getFeviqg())){
			System.out.println("FVigenci <= a la de creacion");
			UtilsJSF.facesLog(FacesContext.getCurrentInstance(), "Fecha de vigencia Feviqg debe ser mayor o igual a Fecha creacion Fecrqg");

		}else if(tqigqg00.getFepdqg().before(tqigqg00.getFeviqg())){
			UtilsJSF.facesLog(FacesContext.getCurrentInstance(), "Fecha Promesa Delivery debe ser mayor o igual a Fecha de vigencia");
			System.out.println("FDelibery <= a la de vigencia");
		}
		
	}
	
	public void save() {
		try {
			flagGuardar = true;
			flagAnulada = false;
			flagAprobada = false;
			flagLiberadaDsllo = false;
			flagReabrir = false;
			flagEnviada = false;

			if (validarDatosRequeridos()) {
				return;
			}
			if(tqigqg00.getMgente00().equals(null)){
				tqigqg00.setMgente00(null);
			}
			if(getAccion().equals(Constantes.ACCION_NUEVO))
			{
				tqigqg00.setNroqqg(tqigqg00.getMgente00().getAliate()+fechaActual+sufijo);
			}
			 
			
			//Mtiptx00 mtiptx00 = new Mtiptx00();
			//mtiptx00.setRegtxt(true);
			//mtiptx00.setSufttx(String.valueOf(sufijo));
			
			tqigqg00.getMtiptx00().setSufttx(String.valueOf(sufijo));
			//validarFechas();

			
			colaEstandar();

			if(getAccion().equals(Constantes.ACCION_MODIFICAR))
			{
				if(validarListas()==false){
					tqigqg00Service.save(tqigqg00,getSeControlFactura().PARAMETROS.get("Reg_Audito").equals("S")?getSeControlFactura().crearAuditoria(null,tqigqg00.toString(),tqigqg00.toStringId(),tqigqg00Cop.toString()):null);
					guardarTqesqe00();			
					System.out.println("guardando tqesqe002: "+tqesqe00);
					tqesqe00Service.save(tqesqe00,getSeControlFactura().PARAMETROS.get("Reg_Audito").equals("S")?getSeControlFactura().crearAuditoria(null,tqesqe00.toString(),tqesqe00.toStringId(),tqesqe00Cop.toString()):null);				

				}else return;
			} else {
				tqigqg00Service.save(tqigqg00,getSeControlFactura().PARAMETROS.get("Reg_Audito").equals("S")?getSeControlFactura().crearAuditoria(null,tqigqg00.toString(),tqigqg00.toStringId(),null):null);
				if(getAccion().equals(Constantes.ACCION_NUEVO))
				{
					mtiptx00Service.save(tqigqg00.getMtiptx00(),getSeControlFactura().PARAMETROS.get("Reg_Audito").equals("S")?getSeControlFactura().crearAuditoria(null,tqigqg00.getMtiptx00().toString(),tqigqg00.getMtiptx00().toStringId(),null):null);
				}
				if(getAccion().equals(Constantes.ACCION_MODIFICAR))
				{
					guardarTqesqe00();			
					tqesqe00Service.save(tqesqe00,getSeControlFactura().PARAMETROS.get("Reg_Audito").equals("S")?getSeControlFactura().crearAuditoria(null,tqesqe00.toString(),tqesqe00.toStringId(),null):null);
				}
					
			 }
			cargarDatos();
			infoGuardada=false;
			UtilsJSF.closeDialog("dlgNuevoUpdate");
			UtilsJSF.facesLog(FacesContext.getCurrentInstance(), FacesMessage.SEVERITY_INFO);
			RequestContext.getCurrentInstance().update("formTable");
		} catch (Exception e) {
			if (UtilsJSF.isDuplicateException(e)) {
				UtilsJSF.facesLog(FacesContext.getCurrentInstance(),"UNIQUE_KEY");
				return;
			}else {
				e.printStackTrace();
				UtilsJSF.facesLog(FacesContext.getCurrentInstance(), FacesMessage.SEVERITY_ERROR);
				return;
			}
		}
	}
	
	public void anular() {
		try {
			
			flagGuardar = false;
			flagAnulada = true;
			flagAprobada = false;
			flagLiberadaDsllo = false;
			flagReabrir = false;
			flagEnviada = false;
			
			if (validarDatosRequeridos()) {
				return;
			}
			if(tqigqg00.getMgente00().equals(null)){
				tqigqg00.setMgente00(null);
			}
			colaEstandar();

			if(getAccion().equals(Constantes.ACCION_MODIFICAR))
			{
				if(validarListas()==false){
					tqigqg00Service.save(tqigqg00,getSeControlFactura().PARAMETROS.get("Reg_Audito").equals("S")?getSeControlFactura().crearAuditoria(null,tqigqg00.toString(),tqigqg00.toStringId(),tqigqg00Cop.toString()):null);
					guardarTqesqe00();			
					System.out.println("guardando tqesqe002: "+tqesqe00);
					tqesqe00Service.save(tqesqe00,getSeControlFactura().PARAMETROS.get("Reg_Audito").equals("S")?getSeControlFactura().crearAuditoria(null,tqesqe00.toString(),tqesqe00.toStringId(),tqesqe00Cop.toString()):null);				

				}else return;
			} else {
				tqigqg00Service.save(tqigqg00,getSeControlFactura().PARAMETROS.get("Reg_Audito").equals("S")?getSeControlFactura().crearAuditoria(null,tqigqg00.toString(),tqigqg00.toStringId(),null):null);
	
			 }
			
			cargarDatos();
			infoGuardada=false;
			UtilsJSF.closeDialog("dlgNuevoUpdate");
			UtilsJSF.facesLog(FacesContext.getCurrentInstance(), FacesMessage.SEVERITY_INFO);
			RequestContext.getCurrentInstance().update("formTable");
		} catch (Exception e) {
			if (UtilsJSF.isDuplicateException(e)) {
				UtilsJSF.facesLog(FacesContext.getCurrentInstance(),"UNIQUE_KEY");
				return;
			}else {
				e.printStackTrace();
				UtilsJSF.facesLog(FacesContext.getCurrentInstance(), FacesMessage.SEVERITY_ERROR);
				return;
			}
		}
	}
	
	public void aprobar() {
		try {

			flagGuardar = false;
			flagAnulada = false;
			flagAprobada = true;
			flagLiberadaDsllo = false;
			flagReabrir = false;
			flagEnviada = false;
			
			if (validarDatosRequeridos()) {
				return;
			}
			if(tqigqg00.getMgente00().equals(null)){
				tqigqg00.setMgente00(null);
			}
			colaEstandar();

			if(getAccion().equals(Constantes.ACCION_MODIFICAR))
			{
				if(validarListas()==false){
					tqigqg00Service.save(tqigqg00,getSeControlFactura().PARAMETROS.get("Reg_Audito").equals("S")?getSeControlFactura().crearAuditoria(null,tqigqg00.toString(),tqigqg00.toStringId(),tqigqg00Cop.toString()):null);
					guardarTqesqe00();			
					System.out.println("guardando tqesqe002: "+tqesqe00);
					tqesqe00Service.save(tqesqe00,getSeControlFactura().PARAMETROS.get("Reg_Audito").equals("S")?getSeControlFactura().crearAuditoria(null,tqesqe00.toString(),tqesqe00.toStringId(),tqesqe00Cop.toString()):null);				

				}else return;
			} else {
				tqigqg00Service.save(tqigqg00,getSeControlFactura().PARAMETROS.get("Reg_Audito").equals("S")?getSeControlFactura().crearAuditoria(null,tqigqg00.toString(),tqigqg00.toStringId(),null):null);
	
			 }
			cargarDatos();
			infoGuardada=false;
			UtilsJSF.closeDialog("dlgNuevoUpdate");
			UtilsJSF.facesLog(FacesContext.getCurrentInstance(), FacesMessage.SEVERITY_INFO);
			RequestContext.getCurrentInstance().update("formTable");
		} catch (Exception e) {
			if (UtilsJSF.isDuplicateException(e)) {
				UtilsJSF.facesLog(FacesContext.getCurrentInstance(),"UNIQUE_KEY");
				return;
			}else {
				e.printStackTrace();
				UtilsJSF.facesLog(FacesContext.getCurrentInstance(), FacesMessage.SEVERITY_ERROR);
				return;
			}
		}
	}
	
	public void liberar() {
		try {
			flagGuardar = false;
			flagAnulada = false;
			flagAprobada = false;
			flagLiberadaDsllo = true;
			flagReabrir = false;
			flagEnviada = false;
			if (validarDatosRequeridos()) {
				return;
			}
			if(tqigqg00.getMgente00().equals(null)){
				tqigqg00.setMgente00(null);
			}
			colaEstandar();

			if(getAccion().equals(Constantes.ACCION_MODIFICAR))
			{
				if(validarListas()==false){
					tqigqg00Service.save(tqigqg00,getSeControlFactura().PARAMETROS.get("Reg_Audito").equals("S")?getSeControlFactura().crearAuditoria(null,tqigqg00.toString(),tqigqg00.toStringId(),tqigqg00Cop.toString()):null);
					guardarTqesqe00();			
					System.out.println("guardando tqesqe002: "+tqesqe00);
					tqesqe00Service.save(tqesqe00,getSeControlFactura().PARAMETROS.get("Reg_Audito").equals("S")?getSeControlFactura().crearAuditoria(null,tqesqe00.toString(),tqesqe00.toStringId(),tqesqe00Cop.toString()):null);				

				}else return;
			} else {
				tqigqg00Service.save(tqigqg00,getSeControlFactura().PARAMETROS.get("Reg_Audito").equals("S")?getSeControlFactura().crearAuditoria(null,tqigqg00.toString(),tqigqg00.toStringId(),null):null);
	
			 }
			
			cargarDatos();
			infoGuardada=false;
			UtilsJSF.closeDialog("dlgNuevoUpdate");
			UtilsJSF.facesLog(FacesContext.getCurrentInstance(), FacesMessage.SEVERITY_INFO);
			RequestContext.getCurrentInstance().update("formTable");
		} catch (Exception e) {
			if (UtilsJSF.isDuplicateException(e)) {
				UtilsJSF.facesLog(FacesContext.getCurrentInstance(),"UNIQUE_KEY");
				return;
			}else {
				e.printStackTrace();
				UtilsJSF.facesLog(FacesContext.getCurrentInstance(), FacesMessage.SEVERITY_ERROR);
				return;
			}
		}
	}
	
	public void reabrir() {
		try {
			
			flagGuardar = false;
			flagAnulada = false;
			flagAprobada = false;
			flagLiberadaDsllo = false;
			flagReabrir = true;
			flagEnviada = false;
			if (validarDatosRequeridos()) {
				return;
			}
			if(tqigqg00.getMgente00().equals(null)){
				tqigqg00.setMgente00(null);
			}
			colaEstandar();

			if(getAccion().equals(Constantes.ACCION_MODIFICAR))
			{
				if(validarListas()==false){
					tqigqg00Service.save(tqigqg00,getSeControlFactura().PARAMETROS.get("Reg_Audito").equals("S")?getSeControlFactura().crearAuditoria(null,tqigqg00.toString(),tqigqg00.toStringId(),tqigqg00Cop.toString()):null);
					guardarTqesqe00();			
					System.out.println("guardando tqesqe002: "+tqesqe00);
					tqesqe00Service.save(tqesqe00,getSeControlFactura().PARAMETROS.get("Reg_Audito").equals("S")?getSeControlFactura().crearAuditoria(null,tqesqe00.toString(),tqesqe00.toStringId(),tqesqe00Cop.toString()):null);				

				}else return;
			} else {
				tqigqg00Service.save(tqigqg00,getSeControlFactura().PARAMETROS.get("Reg_Audito").equals("S")?getSeControlFactura().crearAuditoria(null,tqigqg00.toString(),tqigqg00.toStringId(),null):null);
	
			 }
			cargarDatos();
			infoGuardada=false;
			UtilsJSF.closeDialog("dlgNuevoUpdate");
			UtilsJSF.facesLog(FacesContext.getCurrentInstance(), FacesMessage.SEVERITY_INFO);
			RequestContext.getCurrentInstance().update("formTable");
		} catch (Exception e) {
			if (UtilsJSF.isDuplicateException(e)) {
				UtilsJSF.facesLog(FacesContext.getCurrentInstance(),"UNIQUE_KEY");
				return;
			}else {
				e.printStackTrace();
				UtilsJSF.facesLog(FacesContext.getCurrentInstance(), FacesMessage.SEVERITY_ERROR);
				return;
			}
		}
	}
	
	public void remove(ActionEvent event) {
		try {
			getSeControlFactura().setTitulo(titulo);
			getSeControlFactura().setTabla(tablaCotizacion);
			tqigqg00 = (Tqigqg00) event.getComponent().getAttributes().get("tqigqg00");
			tqigqg00Service.removeTqigqg00(tqigqg00,getSeControlFactura().PARAMETROS.get("Reg_Audito").equals("S")?getSeControlFactura().crearAuditoria(Constantes.AUDIT_ELIMINAR,tqigqg00.toString(),tqigqg00.toStringId()):null);
			cargarDatos();
			getSeListas().actualizarListas(NombresListas.listMconca);
			UtilsJSF.facesLog(FacesContext.getCurrentInstance(),FacesMessage.SEVERITY_INFO);
			RequestContext.getCurrentInstance().update("formTable");
		} catch (Exception e) {
			if (UtilsJSF.isReferenceConstraintException(e)) {
				UtilsJSF.facesLog(FacesContext.getCurrentInstance(),"REFERENCE");
			} else {
				e.printStackTrace();
				UtilsJSF.facesLog(FacesContext.getCurrentInstance(),FacesMessage.SEVERITY_ERROR);
			}
		}
	}
	
	public void preRenderView() {
		try {
			getSeCabecera().setBotonNuevo(true);
			getSeCabecera().setBotonExcel(true);

		} catch (Exception e) {
			e.printStackTrace();
			UtilsJSF.facesLog(FacesContext.getCurrentInstance(), FacesMessage.SEVERITY_ERROR);
		}
	}
	
	public void evtCloseDialogTqigqg00(CloseEvent event) {
        try {   
        	update=null;
        	if (!Utils.isEmptyOrNull(getAccion()) && getAccion().equals(Constantes.ACCION_MODIFICAR) && !infoGuardada){
        		tqigqg00.setMtiptx00(tqigqg00Cop.getMtiptx00());
        		tqigqg00.setMgenus001(tqigqg00Cop.getMgenus001());
        		tqigqg00.setMgenus002(tqigqg00Cop.getMgenus002());
        		tqigqg00.setMgenus003(tqigqg00Cop.getMgenus003());
        		tqigqg00.setMgente00(tqigqg00Cop.getMgente00());
        		tqigqg00.setMpropr00(tqigqg00Cop.getMpropr00());
        		tqigqg00.setMfunfu001(tqigqg00Cop.getMfunfu001());
        		tqigqg00.setMfunfu002(tqigqg00Cop.getMfunfu002());	
        
        	}
        	evtCloseDialog(event);
        }
        catch(Exception e)
        {
        	e.printStackTrace();
			UtilsJSF.facesLog(FacesContext.getCurrentInstance(), FacesMessage.SEVERITY_ERROR);
        }
     }
	
	public void uploadDocCoti(FileUploadEvent event) {
		try {
			 docAnterior= tqigqg00.getAdjuqg();
			 setDocCoti(event.getFile());
			 changeDoc=true;
			 tqigqg00.setAdjuqg("");
			 setImageStrem(new DefaultStreamedContent(event.getFile().getInputstream()));				
							
		}
	    catch (Exception e) {
			e.printStackTrace();
		}
	}

	public void removeDoc() {
		try {
			docAnterior = tqigqg00.getAdjuqg();
			setDocCoti(null);
			tqigqg00.setAdjuqg(null);
			changeDoc=true;
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	
	public List<Mgenus00> obtenerListaMgenus00(String codtus){
	    mgenus00 = new Mgenus00();
		mgenus00.setRegius(true);
		return mgenus00Service.listMgenus00ByCriteriaAndlistMusuco00(mgenus00, getSeControlFactura().getCompaniasUsu()); 
	}
	
	public List<Mtiptx00> obtenerListaMtiptx00s(String codtus){
		mtiptx00 = new Mtiptx00();
	    mtiptx00.setRegtxt(true);
		return mtiptx00Service.listMtiptx00ByCriteria(mtiptx00, getSeControlFactura().getCompaniasUsu()); 
	}
	

	public ITqigqg00Service getTqigqg00Service() {
		return tqigqg00Service;
	}

	public void setTqigqg00Service(ITqigqg00Service tqigqg00Service) {
		this.tqigqg00Service = tqigqg00Service;
	}

	public SeListas getSeListas() {
		return seListas;
	}

	public void setSeListas(SeListas seListas) {
		this.seListas = seListas;
	}

	public Tqigqg00 getTqigqg00() {
		return tqigqg00;
	}

	public void setTqigqg00(Tqigqg00 tqigqg00) {
		this.tqigqg00 = tqigqg00;
	}

	public Tqigqg00 getTqigqg00Cop() {
		return tqigqg00Cop;
	}

	public void setTqigqg00Cop(Tqigqg00 tqigqg00Cop) {
		this.tqigqg00Cop = tqigqg00Cop;
	}

	public List<Tqigqg00> getListTqigqg00() {
		return listTqigqg00;
	}

	public void setListTqigqg00(List<Tqigqg00> listTqigqg00) {
		this.listTqigqg00 = listTqigqg00;
	}

	public List<Tqigqg00> getFilteredTqigqg00() {
		return filteredTqigqg00;
	}

	public void setFilteredTqigqg00(List<Tqigqg00> filteredTqigqg00) {
		this.filteredTqigqg00 = filteredTqigqg00;
	}

	public String getUpdate() {
		return update;
	}

	public void setUpdate(String update) {
		this.update = update;
	}

	public String getNombreTabla() {
		return nombreTabla;
	}

	public void setNombreTabla(String nombreTabla) {
		this.nombreTabla = nombreTabla;
	}

	public String getNombreLista() {
		return nombreLista;
	}

	public void setNombreLista(String nombreLista) {
		this.nombreLista = nombreLista;
	}

	public Object getObjSeCall() {
		return objSeCall;
	}

	public void setObjSeCall(Object objSeCall) {
		this.objSeCall = objSeCall;
	}

	public Integer getFracDec_CantiM() {
		return fracDec_CantiM;
	}

	public void setFracDec_CantiM(Integer fracDec_CantiM) {
		this.fracDec_CantiM = fracDec_CantiM;
	}

	public Integer getFracDec_PorceM() {
		return fracDec_PorceM;
	}

	public void setFracDec_PorceM(Integer fracDec_PorceM) {
		this.fracDec_PorceM = fracDec_PorceM;
	}

	public Map<String, String> getIdiomasHm() {
		return idiomasHm;
	}

	public void setIdiomasHm(Map<String, String> idiomasHm) {
		this.idiomasHm = idiomasHm;
	}

	public Map<String, String> getIdiomasAyuHm() {
		return idiomasAyuHm;
	}

	public void setIdiomasAyuHm(Map<String, String> idiomasAyuHm) {
		this.idiomasAyuHm = idiomasAyuHm;
	}

	public Map<String, String> getPermisos() {
		return permisos;
	}

	public void setPermisos(Map<String, String> permisos) {
		this.permisos = permisos;
	}

	public HashMap<String, String> getIdiomasTituloHm() {
		return idiomasTituloHm;
	}

	public void setIdiomasTituloHm(HashMap<String, String> idiomasTituloHm) {
		this.idiomasTituloHm = idiomasTituloHm;
	}

	public HashMap<String, Mcampo00> getPermisoCampos() {
		return permisoCampos;
	}

	public void setPermisoCampos(HashMap<String, Mcampo00> permisoCampos) {
		this.permisoCampos = permisoCampos;
	}

	public String getAccion() {
		return accion;
	}

	public void setAccion(String accion) {
		this.accion = accion;
	}

	public String getTitulo() {
		return titulo;
	}

	public void setTitulo(String titulo) {
		this.titulo = titulo;
	}

	public boolean isTabInfBase() {
		return tabInfBase;
	}

	public void setTabInfBase(boolean tabInfBase) {
		this.tabInfBase = tabInfBase;
	}

	
	public String[] getPestanas() {
		return pestanas;
	}

	public void setPestanas(String[] pestanas) {
		this.pestanas = pestanas;
	}

	public int getTabView() {
		return tabView;
	}

	public void setTabView(int tabView) {
		this.tabView = tabView;
	}

	public boolean isInfoGuardada() {
		return infoGuardada;
	}

	public void setInfoGuardada(boolean infoGuardada) {
		this.infoGuardada = infoGuardada;
	}
	
	public SeCabecera getSeCabecera() {
		return seCabecera;
	}
	public void setSeCabecera(SeCabecera seCabecera) {
		this.seCabecera = seCabecera;
	}
	

	public boolean isTabReq_Prod() {
		return tabReq_Prod;
	}

	public void setTabReq_Prod(boolean tabReq_Prod) {
		this.tabReq_Prod = tabReq_Prod;
	}

	public boolean isTabForma_Pago() {
		return tabForma_Pago;
	}

	public void setTabForma_Pago(boolean tabForma_Pago) {
		this.tabForma_Pago = tabForma_Pago;
	}

	public boolean isTabEnvios() {
		return tabEnvios;
	}

	public void setTabEnvios(boolean tabEnvios) {
		this.tabEnvios = tabEnvios;
	}

	public String getPaternDec_CantiM() {
		return paternDec_CantiM;
	}

	public void setPaternDec_CantiM(String paternDec_CantiM) {
		this.paternDec_CantiM = paternDec_CantiM;
	}

	public UploadedFile getDocCoti() {
		return DocCoti;
	}

	public void setDocCoti(UploadedFile docCoti) {
		this.DocCoti = docCoti;
	}

	public boolean isChangeDoc() {
		return changeDoc;
	}

	public void setChangeDoc(boolean changeDoc) {
		this.changeDoc = changeDoc;
	}

	public StreamedContent getImageStrem() {
		return imageStrem;
	}

	public void setImageStrem(StreamedContent imageStrem) {
		this.imageStrem = imageStrem;
	}

	public String getDocAnterior() {
		return docAnterior;
	}

	public void setDocAnterior(String docAnterior) {
		this.docAnterior = docAnterior;
	}
	
	public Mgenus00 getMgenus00() {
		return mgenus00;
	}

	public void setMgenus00(Mgenus00 mgenus00) {
		this.mgenus00 = mgenus00;
	}

	public void setMgenus00Service(IMgenus00Service mgenus00Service) {
		this.mgenus00Service = mgenus00Service;
	}

	public List<Mgenus00> getListMgenus00s() {
		return listMgenus00s;
	}

	public void setListMgenus00s(List<Mgenus00> listMgenus00s) {
		this.listMgenus00s = listMgenus00s;
	}

	public IMtiptx00Service getMtiptx00Service() {
		return mtiptx00Service;
	}

	public void setMtiptx00Service(IMtiptx00Service mtiptx00Service) {
		this.mtiptx00Service = mtiptx00Service;
	}

	public List<Mtiptx00> getListMtiptx00() {
		return listMtiptx00;
	}

	public void setListMtiptx00(List<Mtiptx00> listMtiptx00) {
		this.listMtiptx00 = listMtiptx00;
	}

	public Mtiptx00 getMtiptx00() {
		return mtiptx00;
	}

	public void setMtiptx00(Mtiptx00 mtiptx00) {
		this.mtiptx00 = mtiptx00;
	}

	public Tqdrqr00 getTqdrqr00() {
		return tqdrqr00;
	}

	public void setTqdrqr00(Tqdrqr00 tqdrqr00) {
		this.tqdrqr00 = tqdrqr00;
	}

	public List<Mdespr00> getFilteredTqdrqr00() {
		return filteredTqdrqr00;
	}

	public void setFilteredTqdrqr00(List<Mdespr00> filteredTqdrqr00) {
		this.filteredTqdrqr00 = filteredTqdrqr00;
	}

	public List<Mdespr00> getListTqdrqr00Remove() {
		return listTqdrqr00Remove;
	}

	public void setListTqdrqr00Remove(List<Mdespr00> listTqdrqr00Remove) {
		this.listTqdrqr00Remove = listTqdrqr00Remove;
	}

	public String getAccionTqdrqr() {
		return accionTqdrqr;
	}

	public void setAccionTqdrqr(String accionTqdrqr) {
		this.accionTqdrqr = accionTqdrqr;
	}

	public InputText getInputTextIdtxqgColumn() {
		return inputTextIdtxqgColumn;
	}

	public void setInputTextIdtxqgColumn(InputText inputTextIdtxqgColumn) {
		this.inputTextIdtxqgColumn = inputTextIdtxqgColumn;
	}

	public InputText getInputTextIdclqgColumn() {
		return inputTextIdclqgColumn;
	}

	public void setInputTextIdclqgColumn(InputText inputTextIdclqgColumn) {
		this.inputTextIdclqgColumn = inputTextIdclqgColumn;
	}

	public InputText getInputTextIdmoqgColumn() {
		return inputTextIdmoqgColumn;
	}

	public void setInputTextIdmoqgColumn(InputText inputTextIdmoqgColumn) {
		this.inputTextIdmoqgColumn = inputTextIdmoqgColumn;
	}

	public InputText getInputTextIdppqgColumn() {
		return inputTextIdppqgColumn;
	}

	public void setInputTextIdppqgColumn(InputText inputTextIdppqgColumn) {
		this.inputTextIdppqgColumn = inputTextIdppqgColumn;
	}

	public InputText getInputTextIdovqgColumn() {
		return inputTextIdovqgColumn;
	}

	public void setInputTextIdovqgColumn(InputText inputTextIdovqgColumn) {
		this.inputTextIdovqgColumn = inputTextIdovqgColumn;
	}

	public InputText getInputTextIdcvqgColumn() {
		return inputTextIdcvqgColumn;
	}

	public void setInputTextIdcvqgColumn(InputText inputTextIdcvqgColumn) {
		this.inputTextIdcvqgColumn = inputTextIdcvqgColumn;
	}

	public IMgenus00Service getMgenus00Service() {
		return mgenus00Service;
	}

	public InputText getInputTextSiglacColumn() {
		return inputTextSiglacColumn;
	}

	public void setInputTextSiglacColumn(InputText inputTextSiglacColumn) {
		this.inputTextSiglacColumn = inputTextSiglacColumn;
	}

	public Tqdfqf00 getTqdfqf00() {
		return tqdfqf00;
	}

	public void setTqdfqf00(Tqdfqf00 tqdfqf00) {
		this.tqdfqf00 = tqdfqf00;
	}

	public List<String> getListSufijo() {
		return listSufijo;
	}

	public void setListSufijo(List<String> listSufijo) {
		this.listSufijo = listSufijo;
	}

	public Integer getSufijo() {
		return sufijo;
	}

	public void setSufijo(Integer sufijo) {
		this.sufijo = sufijo;
	}

	public String getFechaActual() {
		return fechaActual;
	}

	public void setFechaActual(String fechaActual) {
		this.fechaActual = fechaActual;
	}

	public Mtiptx00 getMtiptx00Cop() {
		return mtiptx00Cop;
	}

	public void setMtiptx00Cop(Mtiptx00 mtiptx00Cop) {
		this.mtiptx00Cop = mtiptx00Cop;
	}

	public List<Tqesqe00> getListTqesqe00() {
		return listTqesqe00;
	}

	public void setListTqesqe00(List<Tqesqe00> listTqesqe00) {
		this.listTqesqe00 = listTqesqe00;
	}

	public List<Tqesqe00> getFilteredTqesqe00() {
		return filteredTqesqe00;
	}

	public void setFilteredTqesqe00(List<Tqesqe00> filteredTqesqe00) {
		this.filteredTqesqe00 = filteredTqesqe00;
	}

	public ITqesqe00Service getTqesqe00Service() {
		return tqesqe00Service;
	}

	public void setTqesqe00Service(ITqesqe00Service tqesqe00Service) {
		this.tqesqe00Service = tqesqe00Service;
	}

	public String getDescEstado() {
		return descEstado;
	}

	public void setDescEstado(String descEstado) {
		this.descEstado = descEstado;
	}

	public Tqesqe00 getTqesqe00() {
		return tqesqe00;
	}

	public void setTqesqe00(Tqesqe00 tqesqe00) {
		this.tqesqe00 = tqesqe00;
	}

	public boolean isBanId() {
		return banId;
	}

	public void setBanId(boolean banId) {
		this.banId = banId;
	}

	public Tqesqe00 getTqesqe00Cop() {
		return tqesqe00Cop;
	}

	public void setTqesqe00Cop(Tqesqe00 tqesqe00Cop) {
		this.tqesqe00Cop = tqesqe00Cop;
	}

	public IMestad00Service getMestad00Service() {
		return mestad00Service;
	}

	public void setMestad00Service(IMestad00Service mestad00Service) {
		this.mestad00Service = mestad00Service;
	}

	public Mestad00 getMestad00() {
		return mestad00;
	}

	public void setMestad00(Mestad00 mestad00) {
		this.mestad00 = mestad00;
	}

	public boolean isNumNuevo() {
		return numNuevo;
	}

	public void setNumNuevo(boolean numNuevo) {
		this.numNuevo = numNuevo;
	}

	public boolean isNumModificar() {
		return numModificar;
	}

	public void setNumModificar(boolean numModificar) {
		this.numModificar = numModificar;
	}

	public boolean isBotonModificada() {
		return botonModificada;
	}

	public void setBotonModificada(boolean botonModificada) {
		this.botonModificada = botonModificada;
	}

	public boolean isBotonAnulada() {
		return botonAnulada;
	}

	public void setBotonAnulada(boolean botonAnulada) {
		this.botonAnulada = botonAnulada;
	}

	public boolean isBotonEnviada() {
		return botonEnviada;
	}

	public void setBotonEnviada(boolean botonEnviada) {
		this.botonEnviada = botonEnviada;
	}

	public boolean isBotonAprobada() {
		return botonAprobada;
	}

	public void setBotonAprobada(boolean botonAprobada) {
		this.botonAprobada = botonAprobada;
	}

	public boolean isBotonLiberadaDsllo() {
		return botonLiberadaDsllo;
	}

	public void setBotonLiberadaDsllo(boolean botonLiberadaDsllo) {
		this.botonLiberadaDsllo = botonLiberadaDsllo;
	}

	public boolean isBotonReabrir() {
		return botonReabrir;
	}

	public void setBotonReabrir(boolean botonReabrir) {
		this.botonReabrir = botonReabrir;
	}

	public boolean isBotonGuardar() {
		return botonGuardar;
	}

	public void setBotonGuardar(boolean botonGuardar) {
		this.botonGuardar = botonGuardar;
	}

	public List<Integer> getListIdeses() {
		return listIdeses;
	}

	public void setListIdeses(List<Integer> listIdeses) {
		this.listIdeses = listIdeses;
	}

	public List<Mestad00> getListMestad00() {
		return listMestad00;
	}

	public void setListMestad00(List<Mestad00> listMestad00) {
		this.listMestad00 = listMestad00;
	}

	
	public IMaccio00Service getMaccio00Service() {
		return maccio00Service;
	}


	public void setMaccio00Service(IMaccio00Service maccio00Service) {
		this.maccio00Service = maccio00Service;
	}

	
	public Maccio00 getMaccio00() {
		return maccio00;
	}


	public void setMaccio00(Maccio00 maccio00) {
		this.maccio00 = maccio00;
	}

	public Macdio00 getMacdio00() {
		return macdio00;
	}

	public void setMacdio00(Macdio00 macdio00) {
		this.macdio00 = macdio00;
	}


	public Musuar00 getMusuar00Session() {
		return musuar00Session;
	}

	public void setMusuar00Session(Musuar00 musuar00Session) {
		this.musuar00Session = musuar00Session;
	}

	public IMacdio00Service getMacdio00Service() {
		return macdio00Service;
	}

	public void setMacdio00Service(IMacdio00Service macdio00Service) {
		this.macdio00Service = macdio00Service;
	}

	public String getCompac() {
		return compac;
	}

	public void setCompac(String compac) {
		this.compac = compac;
	}

	public IMteste00Service getMteste00Service() {
		return mteste00Service;
	}
	
	public void setMteste00Service(IMteste00Service mteste00Service) {
		this.mteste00Service = mteste00Service;
	}

	public boolean isFlagModificada() {
		return flagModificada;
	}

	public void setFlagModificada(boolean flagModificada) {
		this.flagModificada = flagModificada;
	}

	public boolean isFlagAnulada() {
		return flagAnulada;
	}

	public void setFlagAnulada(boolean flagAnulada) {
		this.flagAnulada = flagAnulada;
	}

	public boolean isFlagEnviada() {
		return flagEnviada;
	}

	public void setFlagEnviada(boolean flagEnviada) {
		this.flagEnviada = flagEnviada;
	}

	public boolean isFlagAprobada() {
		return flagAprobada;
	}

	public void setFlagAprobada(boolean flagAprobada) {
		this.flagAprobada = flagAprobada;
	}


	public boolean isFlagLiberadaDsllo() {
		return flagLiberadaDsllo;
	}

	public void setFlagLiberadaDsllo(boolean flagLiberadaDsllo) {
		this.flagLiberadaDsllo = flagLiberadaDsllo;
	}

	public boolean isFlagReabrir() {
		return flagReabrir;
	}

	public void setFlagReabrir(boolean flagReabrir) {
		this.flagReabrir = flagReabrir;
	}

	public boolean isFlagGuardar() {
		return flagGuardar;
	}
	
	public void setFlagGuardar(boolean flagGuardar) {
		this.flagGuardar = flagGuardar;
	}


	public String getdEstadoinit() {
		return dEstadoinit;
	}

	public void setdEstadoinit(String dEstadoinit) {
		this.dEstadoinit = dEstadoinit;
	}

	public String getTablaCotizacion() {
		return tablaCotizacion;
	}

	public void setTablaCotizacion(String tablaCotizacion) {
		this.tablaCotizacion = tablaCotizacion;
	}

	public boolean isBotonAnularReq() {
		return botonAnularReq;
	}

	public void setBotonAnularReq(boolean botonAnularReq) {
		this.botonAnularReq = botonAnularReq;
	}

	public boolean isBotonAprobarReq() {
		return botonAprobarReq;
	}

	public void setBotonAprobarReq(boolean botonAprobarReq) {
		this.botonAprobarReq = botonAprobarReq;
	}

	public boolean isBotonLiberadaDslloReq() {
		return botonLiberadaDslloReq;
	}

	public void setBotonLiberadaDslloReq(boolean botonLiberadaDslloReq) {
		this.botonLiberadaDslloReq = botonLiberadaDslloReq;
	}

	public boolean isBotonReabrirReq() {
		return botonReabrirReq;
	}

	public void setBotonReabrirReq(boolean botonReabrirReq) {
		this.botonReabrirReq = botonReabrirReq;
	}

	public boolean isBotonGuardarReq() {
		return botonGuardarReq;
	}

	public void setBotonGuardarReq(boolean botonGuardarReq) {
		this.botonGuardarReq = botonGuardarReq;
	}

	public boolean isMostrarBotonAnulada() {
		return mostrarBotonAnulada;
	}

	public void setMostrarBotonAnulada(boolean mostrarBotonAnulada) {
		this.mostrarBotonAnulada = mostrarBotonAnulada;
	}

	public boolean isMostrarBotonEnviada() {
		return mostrarBotonEnviada;
	}

	public void setMostrarBotonEnviada(boolean mostrarBotonEnviada) {
		this.mostrarBotonEnviada = mostrarBotonEnviada;
	}

	public boolean isMostrarBotonAprobada() {
		return mostrarBotonAprobada;
	}

	public void setMostrarBotonAprobada(boolean mostrarBotonAprobada) {
		this.mostrarBotonAprobada = mostrarBotonAprobada;
	}

	public boolean isMostrarBotonLiberadaDsllo() {
		return mostrarBotonLiberadaDsllo;
	}

	public void setMostrarBotonLiberadaDsllo(boolean mostrarBotonLiberadaDsllo) {
		this.mostrarBotonLiberadaDsllo = mostrarBotonLiberadaDsllo;
	}

	public boolean isMostrarBotonReabrir() {
		return mostrarBotonReabrir;
	}

	public void setMostrarBotonReabrir(boolean mostrarBotonReabrir) {
		this.mostrarBotonReabrir = mostrarBotonReabrir;
	}

	public boolean isMostrarBotonGuardar() {
		return mostrarBotonGuardar;
	}

	public void setMostrarBotonGuardar(boolean mostrarBotonGuardar) {
		this.mostrarBotonGuardar = mostrarBotonGuardar;
	}

	public boolean isMostrarBotonAnularReq() {
		return mostrarBotonAnularReq;
	}

	public void setMostrarBotonAnularReq(boolean mostrarBotonAnularReq) {
		this.mostrarBotonAnularReq = mostrarBotonAnularReq;
	}

	public boolean isMostrarBotonAprobarReq() {
		return mostrarBotonAprobarReq;
	}

	public void setMostrarBotonAprobarReq(boolean mostrarBotonAprobarReq) {
		this.mostrarBotonAprobarReq = mostrarBotonAprobarReq;
	}

	public boolean isMostrarBotonLiberadaDslloReq() {
		return mostrarBotonLiberadaDslloReq;
	}

	public void setMostrarBotonLiberadaDslloReq(boolean mostrarBotonLiberadaDslloReq) {
		this.mostrarBotonLiberadaDslloReq = mostrarBotonLiberadaDslloReq;
	}

	public boolean isMostrarBotonReabrirReq() {
		return mostrarBotonReabrirReq;
	}

	public void setMostrarBotonReabrirReq(boolean mostrarBotonReabrirReq) {
		this.mostrarBotonReabrirReq = mostrarBotonReabrirReq;
	}

	public boolean isMostrarBotonGuardarReq() {
		return mostrarBotonGuardarReq;
	}

	public void setMostrarBotonGuardarReq(boolean mostrarBotonGuardarReq) {
		this.mostrarBotonGuardarReq = mostrarBotonGuardarReq;
	}	
	
}
